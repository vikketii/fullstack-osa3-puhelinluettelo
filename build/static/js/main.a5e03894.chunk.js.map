{"version":3,"sources":["components/Person.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref","filterPersons","handleFilterChange","react_default","a","createElement","value","onChange","_ref2","persons","removePerson","filter","person","name","toLowerCase","indexOf","map","key","number","onClick","_ref3","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","baseUrl","services_persons","axios","get","then","response","data","newObject","post","objectToRemove","delete","concat","id","put","Notification","statusMessage","message","notificationStyle","status","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","style","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilterPersons","_useState9","_useState10","setStatusMessage","useEffect","personService","initialPersons","sendStatusMessage","setTimeout","components_Notification","event","target","preventDefault","personObject","oldPerson","find","window","confirm","returnedPerson","p","catch","error","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a5e03894.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filterPersons, handleFilterChange}) =>\n  <div>rajaa: <input value={filterPersons} onChange={handleFilterChange} /></div>  \n\nconst Persons = ({persons, filterPersons, removePerson}) => {\n  const personsToShow = filterPersons\n    ? persons.filter(person => person.name.toLowerCase().indexOf(filterPersons.toLowerCase()) > -1)\n    : persons\n  \n  return (\n    personsToShow.map(person => \n      <div key={person.name}>\n        {person.name} {person.number}\n        <button onClick={() => removePerson(person)}>poista</button>\n      </div>\n    )\n  )\n}\n\nconst PersonForm = ({addPerson, newName, handleNameChange, newNumber, handleNumberChange}) =>\n  <form onSubmit={addPerson}>\n    <div>nimi: <input value={newName} onChange={handleNameChange} /></div>\n    <div>numero: <input value={newNumber} onChange={handleNumberChange} /></div>\n    <div><button type=\"submit\">lisää</button></div>\n  </form>\n\n\nexport default { Filter, Persons, PersonForm }","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = objectToRemove => {\n  const request = axios.delete(`${baseUrl}/${objectToRemove.id}`)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }","import React from 'react'\n\nconst Notification = ({ statusMessage }) => {\n  if (statusMessage.message === null) {\n    return null\n  }\n\n  let notificationStyle = {}\n  if (statusMessage.status === 'good') {\n    notificationStyle = {\n      color: 'green',\n      background: 'lightgrey',\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n    }\n  } else if (statusMessage.status === 'bad') {\n    notificationStyle = {\n      color: 'red',\n      background: 'lightgrey',\n      fontSize: 20,\n      borderStyle: 'solid',\n      borderRadius: 5,\n      padding: 10,\n      marginBottom: 10,\n    }\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {statusMessage.message}\n    </div>\n  )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Person from './components/Person'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterPersons, setFilterPersons] = useState('')\n  const [statusMessage, setStatusMessage] = useState({message:null, status:null})\n  \n  useEffect(() => {\n    personService\n      .getAll().then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const sendStatusMessage = (message, status) => {\n    setStatusMessage({message, status})\n    setTimeout(() => {\n      setStatusMessage({message:null, status:null})\n    }, 5000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = { name: newName, number: newNumber }\n    const oldPerson = persons.find(person => person.name === newName)\n    \n    if (oldPerson) {\n      if (window.confirm(`${oldPerson.name} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        personService\n          .update(oldPerson.id, personObject).then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== oldPerson.id ? person : returnedPerson))\n            sendStatusMessage(`${returnedPerson.name} numero muutettiin`, 'good')\n          })\n      }\n    } else {\n      personService\n        .create(personObject).then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          sendStatusMessage(`Lisättiin ${returnedPerson.name}`, 'good')\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const removePerson = person => {\n    if (window.confirm(`Haluatko varmasti poistaa henkilön ${person.name} luettelosta?`)) {\n      personService\n        .remove(person).then(() => {\n          setPersons(persons.filter(p => p.id !== person.id))\n          sendStatusMessage(`Poistettiin ${person.name}`, 'good')\n        })\n        .catch(error => {\n          sendStatusMessage(`Henkilö ${person.name} oli jo poistettu`, 'bad')\n          personService.getAll()\n            .then(persons => setPersons(persons))\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setFilterPersons(event.target.value)\n  }\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n      <Notification statusMessage={statusMessage} />\n      <Person.Filter filterPersons={filterPersons} handleFilterChange={handleFilterChange}/>\n      <h2>Lisää uusi</h2>\n      <Person.PersonForm addPerson={addPerson}\n        newName={newName} handleNameChange={handleNameChange}\n        newNumber={newNumber} handleNumberChange={handleNumberChange}\n      />\n      <h2>Numerot</h2>\n      <Person.Persons persons={persons} filterPersons={filterPersons} removePerson={removePerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}